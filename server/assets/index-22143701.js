var $e=Object.defineProperty;var qe=(r,t,n)=>t in r?$e(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var y=(r,t,n)=>(qe(r,typeof t!="symbol"?t+"":t,n),n);import{j as l,o as f,M as N,N as O,O as U,t as H,Q as Ue,R as We,S as ve,U as W,V as z,W as V,X as le,Y as w,v as ye,Z as ze}from"./mui_material-d6a2ca06.js";import{a as Ve,r as m,n as j,g as be,c as _}from"./react-fc2298a4.js";import{N as Ge,u as K,O as Je,a as _e,L as Ke,B as Qe,R as Xe,b as T}from"./react_router-b929a5cd.js";import{C as Se,a as we,L as Te,B as Ze,p as De,b as xe,d as Ee,f as et,P as tt,g as rt,h as nt}from"./chart_js-00feeec8.js";import{p as Ce}from"./chart_js_extras-61871ffc.js";import{h as k}from"./moment-fbc5633a.js";import{L as st,D as ot,C as at,a as it}from"./mui_extras-3914081e.js";import{G as lt}from"./word_cloud-3e26f9b7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Le,ce=Ve;Le=ce.createRoot,ce.hydrateRoot;const ct="modulepreload",ut=function(r){return"/"+r},ue={},dt=function(t,n,e){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ut(i),i in ue)return;ue[i]=!0;const c=i.endsWith(".css"),s=c?'[rel="stylesheet"]':"";if(!!e)for(let d=o.length-1;d>=0;d--){const h=o[d];if(h.href===i&&(!c||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${s}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":ct,c||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),c)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())},ht="/assets/childsafenetlogo-05a00d52.png",ft="/assets/naamii-logo-4e467dd1.png",Oe=({children:r,...t})=>l(Ge,{...t,className:({isActive:n})=>n?"text-primary underline":"text-primary",children:r}),mt=r=>{const{pathname:t}=K(),[n,e,o]=t.split("/",3),i=e==="ap"&&!(o!=null&&o.startsWith("modify"));let c,s;return i?(c="/ap/modify",s="Modify"):(c="/ap",s="Admin"),l(Oe,{...r,to:c,children:s})},Q=r=>f("nav",{...r,children:[f("div",{className:"border-t-2 bg-white px-16 py-2 flex items-center justify-between",children:[l("img",{alt:"ChildSafeNet-Logo",src:ht,className:"w-1/6",width:"657",height:"193"}),l("h1",{className:"font-bold text-primary text-2xl",children:"Online Abusive Text Detection System for IPV"}),l("img",{alt:"NAAMII-Logo",src:ft,width:"80",height:"88"})]}),f("div",{className:"border-b-2 bg-white px-16 flex items-center justify-between",children:[l(Oe,{to:"/",children:"Home"}),l(mt,{})]})]}),pt=()=>f(N,{children:[l(Q,{}),l(Je,{})]});class de extends Error{constructor(n,e,o){super(o);y(this,"url");y(this,"status");y(this,"statusText");y(this,"body");y(this,"request");this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=n}}class E extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}}var jr;class gt{constructor(t){y(this,jr);y(this,"_isResolved");y(this,"_isRejected");y(this,"_isCancelled");y(this,"_cancelHandlers");y(this,"_promise");y(this,"_resolve");y(this,"_reject");this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((n,e)=>{this._resolve=n,this._reject=e;const o=s=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(a=this._resolve)==null||a.call(this,s))},i=s=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(a=this._reject)==null||a.call(this,s))},c=s=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(s)};return Object.defineProperty(c,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(c,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(c,"isCancelled",{get:()=>this._isCancelled}),t(o,i,c)})}then(t,n){return this._promise.then(t,n)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const n of this._cancelHandlers)n()}catch(n){console.warn("Cancellation threw an error",n);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new E("Request aborted"))}}get isCancelled(){return this._isCancelled}}jr=Symbol.toStringTag;const v={BASE:"",VERSION:"0.1.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},X=r=>r!=null,P=r=>typeof r=="string",$=r=>P(r)&&r!=="",Z=r=>typeof r=="object"&&typeof r.type=="string"&&typeof r.stream=="function"&&typeof r.arrayBuffer=="function"&&typeof r.constructor=="function"&&typeof r.constructor.name=="string"&&/^(Blob|File)$/.test(r.constructor.name)&&/^(Blob|File)$/.test(r[Symbol.toStringTag]),Me=r=>r instanceof FormData,vt=r=>{try{return btoa(r)}catch{return Buffer.from(r).toString("base64")}},yt=r=>{const t=[],n=(o,i)=>{t.push(`${encodeURIComponent(o)}=${encodeURIComponent(String(i))}`)},e=(o,i)=>{X(i)&&(Array.isArray(i)?i.forEach(c=>{e(o,c)}):typeof i=="object"?Object.entries(i).forEach(([c,s])=>{e(`${o}[${c}]`,s)}):n(o,i))};return Object.entries(r).forEach(([o,i])=>{e(o,i)}),t.length>0?`?${t.join("&")}`:""},bt=(r,t)=>{const n=r.ENCODE_PATH||encodeURI,e=t.url.replace("{api-version}",r.VERSION).replace(/{(.*?)}/g,(i,c)=>{var s;return(s=t.path)!=null&&s.hasOwnProperty(c)?n(String(t.path[c])):i}),o=`${r.BASE}${e}`;return t.query?`${o}${yt(t.query)}`:o},_t=r=>{if(r.formData){const t=new FormData,n=(e,o)=>{P(o)||Z(o)?t.append(e,o):t.append(e,JSON.stringify(o))};return Object.entries(r.formData).filter(([e,o])=>X(o)).forEach(([e,o])=>{Array.isArray(o)?o.forEach(i=>n(e,i)):n(e,o)}),t}},I=async(r,t)=>typeof t=="function"?t(r):t,St=async(r,t)=>{const n=await I(t,r.TOKEN),e=await I(t,r.USERNAME),o=await I(t,r.PASSWORD),i=await I(t,r.HEADERS),c=Object.entries({Accept:"application/json",...i,...t.headers}).filter(([s,a])=>X(a)).reduce((s,[a,u])=>({...s,[a]:String(u)}),{});if($(n)&&(c.Authorization=`Bearer ${n}`),$(e)&&$(o)){const s=vt(`${e}:${o}`);c.Authorization=`Basic ${s}`}return t.body&&(t.mediaType?c["Content-Type"]=t.mediaType:Z(t.body)?c["Content-Type"]=t.body.type||"application/octet-stream":P(t.body)?c["Content-Type"]="text/plain":Me(t.body)||(c["Content-Type"]="application/json")),new Headers(c)},wt=r=>{var t;if(r.body)return(t=r.mediaType)!=null&&t.includes("/json")?JSON.stringify(r.body):P(r.body)||Z(r.body)||Me(r.body)?r.body:JSON.stringify(r.body)},Tt=async(r,t,n,e,o,i,c)=>{const s=new AbortController,a={headers:i,body:e??o,method:t.method,signal:s.signal};return r.WITH_CREDENTIALS&&(a.credentials=r.CREDENTIALS),c(()=>s.abort()),await fetch(n,a)},Dt=(r,t)=>{if(t){const n=r.headers.get(t);if(P(n))return n}},xt=async r=>{if(r.status!==204)try{const t=r.headers.get("Content-Type");if(t)return t.toLowerCase().startsWith("application/json")?await r.json():await r.text()}catch(t){console.error(t)}},Et=(r,t)=>{const e={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...r.errors}[t.status];if(e)throw new de(r,t,e);if(!t.ok)throw new de(r,t,"Generic Error")},b=(r,t)=>new gt(async(n,e,o)=>{try{const i=bt(r,t),c=_t(t),s=wt(t),a=await St(r,t);if(!o.isCancelled){const u=await Tt(r,t,i,s,c,a,o),d=await xt(u),h=Dt(u,t.responseHeader),p={url:i,ok:u.ok,status:u.status,statusText:u.statusText,body:h??d};Et(t,p),n(p.body)}}catch(i){e(i)}});class Ct{static authGetUsersMe(){return b(v,{method:"GET",url:"/auth/me",errors:{401:"Authentication Error"}})}static authLogin(t){return b(v,{method:"POST",url:"/auth/login",formData:t,mediaType:"application/x-www-form-urlencoded",errors:{400:"Incorrect Username or Password",422:"Validation Error"}})}static authRegister(t){return b(v,{method:"POST",url:"/auth/register",body:t,mediaType:"application/json",errors:{400:"The Username Already Exists",422:"Validation Error"}})}static authUpdate(t){return b(v,{method:"PATCH",url:"/auth/update",body:t,mediaType:"application/json",errors:{400:"No Valid Data to Update",401:"Authentication Error",422:"Validation Error"}})}}class B{static pseudoTweetsGetPseudoOverview(t=!1,n,e){return b(v,{method:"GET",url:"/pseudo_tweets/overview",query:{all:t,start_date:n,end_date:e},errors:{422:"Validation Error"}})}static pseudoTweetsGetCount(t=!1,n,e,o=!1){return b(v,{method:"GET",url:"/pseudo_tweets/count",query:{all:t,start_date:n,end_date:e,get_phrase_count:o},errors:{422:"Validation Error"}})}static pseudoTweetsReadPseudoTweets(t,n,e,o,i=10,c,s,a=!1){return b(v,{method:"GET",url:"/pseudo_tweets/",query:{is_abuse:t,sources:n,aspects:e,offset:o,limit:i,start_date:c,end_date:s,all:a},errors:{422:"Validation Error"}})}static pseudoTweetsReadPseudoTweet(t){return b(v,{method:"GET",url:"/pseudo_tweets/{pseudo_tweet_id}",path:{pseudo_tweet_id:t},errors:{404:"PseudoTweet Not found",422:"Validation Error"}})}static pseudoTweetsDeletePseudoTweet(t){return b(v,{method:"DELETE",url:"/pseudo_tweets/{pseudo_tweet_id}",path:{pseudo_tweet_id:t},errors:{404:"PseudoTweet Not found",422:"Validation Error"}})}static pseudoTweetsVerifyPseudoTweet(t,n){return b(v,{method:"PATCH",url:"/pseudo_tweets/{pseudo_tweet_id}",path:{pseudo_tweet_id:t},body:n,mediaType:"application/json",errors:{404:"PseudoTweet Not found",422:"Validation Error"}})}static pseudoTweetsRequestPseudoTweetEdit(t,n){return b(v,{method:"POST",url:"/pseudo_tweets/edit_request/{pseudo_tweet_id}",path:{pseudo_tweet_id:t},body:n,mediaType:"application/json",errors:{422:"Validation Error"}})}}class Lt{static tweetsCommonsGetWordCloud(t,n){return b(v,{method:"GET",url:"/tweets_commons/",query:{start_date:t,end_date:n},errors:{422:"Validation Error"}})}static tweetsCommonsGetPrediction(t){return b(v,{method:"GET",url:"/tweets_commons/predict",query:{text:t},errors:{422:"Validation Error",503:"Could not connect to model."}})}static tweetsCommonsScrapeYoutube(t,n=2,e=2){return b(v,{method:"GET",url:"/tweets_commons/scrape_youtube",query:{video_query:t,max_video_results:n,max_comment_results:e},errors:{422:"Validation Error"}})}}const Ot=["January","February","March","April","May","June","July","August","September","October","November","December"],Mt=["#f77189","#dc8932","#ae9d31","#77ab31","#33b07a","#36ada4","#38a9c5","#6e9bf4","#cc7af4","#f565cc"],R=["others","profanity","physical_threat","rape_threat","general_threat","ethnic_violence","religion_violence","sexism","character_assasination"],Ne=R.map((r,t)=>({field:`Phrase: ${r}`,areaColor:Mt[t]})),Pe=[{field:"is_abuse",areaColor:"#e5c185"},{field:"sexual_score",areaColor:"#74a892"}],Nt=[...Ne,...Pe],Re="2015-01-01",Ae=k(new Date).format("YYYY-MM-DD"),C=m.createContext({startDate:Re,endDate:Ae,setStartDate:null,setEndDate:null}),Pt=async()=>sessionStorage.getItem("accessToken")||"";v.TOKEN=Pt;const Rt=(r=null)=>{let t;if(r)t=r;else if(t=sessionStorage.getItem("accessToken"),!t)return null;const n=At(t);if(n.invalid)return console.error("Invalid Access Token"),sessionStorage.removeItem("accessToken"),null;const e=n==null?void 0:n.sub;return e||null},At=r=>{try{const t=r.split(".");if(t.length!==3)throw new Error("Token has been tampered");const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),e=decodeURIComponent(atob(n).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")),o=JSON.parse(e);if(Date.now()>o.exp*1e3)throw new Error("Token expired");return{...o,invalid:!1}}catch{return{invalid:!0}}},x=r=>r.split(/[\s_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "),jt=(r,t)=>{if(r.length!==t.length)return!1;for(let n=0;n<r.length;++n)if(r[n]!==t[n])return!1;return!0},Wr=(r,t)=>{if(r.length!==t.length)return!1;for(let n=0;n<r.length;++n)if(!jt(r[n],t[n]))return!0;return!0};Se.register(we,Te,Ze,De,xe,Ee,Ce);const It={responsive:!0,indexAxis:"y",maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Bar Graph"},zoom:{zoom:{wheel:{enabled:!0},drag:{enabled:!0},pinch:{enabled:!0},mode:"x"}}}},Yt=()=>{const[r,t]=m.useState({data:{labels:[],datasets:[]},loaded:!1}),{startDate:n,endDate:e}=m.useContext(C);return m.useEffect(()=>{const o=B.pseudoTweetsGetCount(!0,n,e,!0);return o.then(i=>{const{aspects:c,...s}=i,u={...Object.fromEntries(R.map((h,p)=>[`Phrase: ${h}`,(c==null?void 0:c[p])||0])),...s},d={labels:Object.keys(u).map(x),datasets:[{label:"Number of abusive texts in given range",data:Object.values(u),backgroundColor:[...Ne.map(({areaColor:h})=>h),...Pe.map(({areaColor:h})=>h)]}]};t({data:d,loaded:!0})}).catch(i=>{i instanceof E&&console.log("BarChart umounted")}),()=>{o==null||o.cancel()}},[n,e]),r.loaded?l(et,{options:It,data:r.data}):null};Se.register(we,Te,tt,rt,De,xe,Ee,Ce);const Ht={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Line Chart"},zoom:{zoom:{wheel:{enabled:!0},drag:{enabled:!0},pinch:{enabled:!0},mode:"x"}}},scales:{x:{title:{display:!0,text:"Day"}},y:{title:{display:!0,text:"Tweet Count and Average Sexual Score per day "}}}},kt=()=>{const[r,t]=m.useState({data:{labels:[],datasets:[]},loaded:!1}),{startDate:n,endDate:e}=m.useContext(C);return m.useEffect(()=>{const o=B.pseudoTweetsGetPseudoOverview(!0,n,e);return o.then(i=>{const c={};i.forEach(({aspects_anno:u})=>{R.forEach((d,h)=>{const p=`Phrase: ${d}`,g=c[p]||[];g.push(u[h]||0),c[p]=g})});const s={is_abuse:i.map(({is_abuse:u})=>u),sexual_score:i.map(({sexual_score:u})=>u??null),...c},a={labels:i.map(({created_date:u})=>u),datasets:Nt.map(({field:u,areaColor:d})=>({data:s[u],label:x(u),borderColor:d,backgroundColor:d,cubicInterpolationMode:"monotone",tension:.4}))};t({data:a,loaded:!0})}).catch(i=>{i instanceof E&&console.log("LineChart umounted")}),()=>{o==null||o.cancel()}},[n,e]),r.loaded?l(nt,{options:Ht,data:r.data}):null},Bt=()=>f("div",{className:"flex mt-2",children:[l(O,{className:"flex-1",children:l(kt,{})}),l(O,{className:"w-1/3 ml-3",children:l(Yt,{})})]});var Ft={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},$t=function(){function r(t){var n=this,e=t===void 0?{}:t,o=e.locale,i=e.formats,c=e.instance;this.lib="moment",this.is12HourCycleInCurrentLocale=function(){return/A|a/.test(n.moment.localeData(n.getCurrentLocaleCode()).longDateFormat("LT"))},this.getFormatHelperText=function(s){var a=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return s.match(a).map(function(u){var d=u[0];return d==="L"||d===";"?n.moment.localeData(n.getCurrentLocaleCode()).longDateFormat(u):u}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase()},this.getCurrentLocaleCode=function(){return n.locale||n.moment.locale()},this.parseISO=function(s){return n.moment(s,!0)},this.toISO=function(s){return s.toISOString()},this.parse=function(s,a){return s===""?null:n.locale?n.moment(s,a,n.locale,!0):n.moment(s,a,!0)},this.date=function(s){if(s===null)return null;var a=n.moment(s);return a.locale(n.locale),a},this.toJsDate=function(s){return s.toDate()},this.isValid=function(s){return n.moment(s).isValid()},this.isNull=function(s){return s===null},this.getDiff=function(s,a,u){return s.diff(a,u)},this.isAfter=function(s,a){return s.isAfter(a)},this.isBefore=function(s,a){return s.isBefore(a)},this.isAfterDay=function(s,a){return s.isAfter(a,"day")},this.isBeforeDay=function(s,a){return s.isBefore(a,"day")},this.isBeforeYear=function(s,a){return s.isBefore(a,"year")},this.isAfterYear=function(s,a){return s.isAfter(a,"year")},this.startOfDay=function(s){return s.clone().startOf("day")},this.endOfDay=function(s){return s.clone().endOf("day")},this.format=function(s,a){return n.formatByString(s,n.formats[a])},this.formatByString=function(s,a){var u=s.clone();return u.locale(n.locale),u.format(a)},this.formatNumber=function(s){return s},this.getHours=function(s){return s.get("hours")},this.addSeconds=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"seconds"):s.clone().add(a,"seconds")},this.addMinutes=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"minutes"):s.clone().add(a,"minutes")},this.addHours=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"hours"):s.clone().add(a,"hours")},this.addDays=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"days"):s.clone().add(a,"days")},this.addWeeks=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"weeks"):s.clone().add(a,"weeks")},this.addMonths=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"months"):s.clone().add(a,"months")},this.addYears=function(s,a){return a<0?s.clone().subtract(Math.abs(a),"years"):s.clone().add(a,"years")},this.setHours=function(s,a){return s.clone().hours(a)},this.getMinutes=function(s){return s.get("minutes")},this.setMinutes=function(s,a){return s.clone().minutes(a)},this.getSeconds=function(s){return s.get("seconds")},this.setSeconds=function(s,a){return s.clone().seconds(a)},this.getMonth=function(s){return s.get("month")},this.getDaysInMonth=function(s){return s.daysInMonth()},this.isSameDay=function(s,a){return s.isSame(a,"day")},this.isSameMonth=function(s,a){return s.isSame(a,"month")},this.isSameYear=function(s,a){return s.isSame(a,"year")},this.isSameHour=function(s,a){return s.isSame(a,"hour")},this.setMonth=function(s,a){return s.clone().month(a)},this.getMeridiemText=function(s){return n.is12HourCycleInCurrentLocale()?n.moment.localeData(n.getCurrentLocaleCode()).meridiem(s==="am"?0:13,0,!1):s==="am"?"AM":"PM"},this.startOfYear=function(s){return s.clone().startOf("year")},this.endOfYear=function(s){return s.clone().endOf("year")},this.startOfMonth=function(s){return s.clone().startOf("month")},this.endOfMonth=function(s){return s.clone().endOf("month")},this.startOfWeek=function(s){return s.clone().startOf("week")},this.endOfWeek=function(s){return s.clone().endOf("week")},this.getNextMonth=function(s){return s.clone().add(1,"month")},this.getPreviousMonth=function(s){return s.clone().subtract(1,"month")},this.getMonthArray=function(s){for(var a=s.clone().startOf("year"),u=[a];u.length<12;){var d=u[u.length-1];u.push(n.getNextMonth(d))}return u},this.getYear=function(s){return s.get("year")},this.setYear=function(s,a){return s.clone().set("year",a)},this.getDate=function(s){return s.get("date")},this.setDate=function(s,a){return s.clone().set("date",a)},this.mergeDateAndTime=function(s,a){return s.hour(a.hour()).minute(a.minute()).second(a.second())},this.getWeekdays=function(){return n.moment.weekdaysShort(!0)},this.isEqual=function(s,a){return s===null&&a===null?!0:n.moment(s).isSame(a)},this.getWeekArray=function(s){for(var a=s.clone().startOf("month").startOf("week"),u=s.clone().endOf("month").endOf("week"),d=0,h=a,p=[];h.isBefore(u);){var g=Math.floor(d/7);p[g]=p[g]||[],p[g].push(h),h=h.clone().add(1,"day"),d+=1}return p},this.getYearRange=function(s,a){for(var u=n.moment(s).startOf("year"),d=n.moment(a).endOf("year"),h=[],p=u;p.isBefore(d);)h.push(p),p=p.clone().add(1,"year");return h},this.isWithinRange=function(s,a){var u=a[0],d=a[1];return s.isBetween(u,d,null,"[]")},this.moment=c||k,this.locale=o,this.formats=Object.assign({},Ft,i)}return r}();const he=({textLabel:r,...t})=>f("div",{className:"mx-2 flex items-center w-2/12",children:[l("div",{className:"text-white text-base font-semibold mr-2",children:r}),l("div",{className:"bg-white pt-2",children:l(st,{dateAdapter:$t,children:l(ot,{inputFormat:"DD/MM/YYYY",...t,renderInput:n=>l(U,{...n})})})})]}),qt=()=>{const{startDate:r,setStartDate:t,endDate:n,setEndDate:e}=m.useContext(C),[o,i]=m.useState(new Date(r)),[c,s]=m.useState(new Date(n));return f("div",{className:"flex items-center bg-primary",children:[l("div",{className:"text-white w-2/12 text-lg font-bold",children:"View Data Of"}),l(he,{textLabel:"From",label:"Start Date",value:o,onChange:u=>i(u)}),l(he,{textLabel:"To",label:"End Date",value:c,onChange:u=>s(u)}),l(H,{variant:"contained",size:"large",sx:{backgroundColor:"#247890"},onClick:()=>{t&&t(k(o).format("YYYY-MM-DD")),e&&e(k(c).format("YYYY-MM-DD"))},children:"Filter"})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var G=function(r,t){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o])},G(r,t)};function Ut(r,t){G(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var L=function(){return L=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},L.apply(this,arguments)};function Wt(r,t,n,e){var o,i=!1,c=0;function s(){o&&clearTimeout(o)}function a(){s(),i=!0}typeof t!="boolean"&&(e=n,n=t,t=void 0);function u(){var d=this,h=Date.now()-c,p=arguments;if(i)return;function g(){c=Date.now(),n.apply(d,p)}function S(){o=void 0}e&&!o&&g(),s(),e===void 0&&h>r?g():t!==!0&&(o=setTimeout(e?S:g,e===void 0?r-h:r))}return u.cancel=a,u}var D={Pixel:"Pixel",Percent:"Percent"},fe={unit:D.Percent,value:.8};function me(r){return typeof r=="number"?{unit:D.Percent,value:r*100}:typeof r=="string"?r.match(/^(\d*(\.\d+)?)px$/)?{unit:D.Pixel,value:parseFloat(r)}:r.match(/^(\d*(\.\d+)?)%$/)?{unit:D.Percent,value:parseFloat(r)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),fe):(console.warn("scrollThreshold should be string or number"),fe)}var zt=function(r){Ut(t,r);function t(n){var e=r.call(this,n)||this;return e.lastScrollTop=0,e.actionTriggered=!1,e.startY=0,e.currentY=0,e.dragging=!1,e.maxPullDownDistance=0,e.getScrollableTarget=function(){return e.props.scrollableTarget instanceof HTMLElement?e.props.scrollableTarget:typeof e.props.scrollableTarget=="string"?document.getElementById(e.props.scrollableTarget):(e.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},e.onStart=function(o){e.lastScrollTop||(e.dragging=!0,o instanceof MouseEvent?e.startY=o.pageY:o instanceof TouchEvent&&(e.startY=o.touches[0].pageY),e.currentY=e.startY,e._infScroll&&(e._infScroll.style.willChange="transform",e._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},e.onMove=function(o){e.dragging&&(o instanceof MouseEvent?e.currentY=o.pageY:o instanceof TouchEvent&&(e.currentY=o.touches[0].pageY),!(e.currentY<e.startY)&&(e.currentY-e.startY>=Number(e.props.pullDownToRefreshThreshold)&&e.setState({pullToRefreshThresholdBreached:!0}),!(e.currentY-e.startY>e.maxPullDownDistance*1.5)&&e._infScroll&&(e._infScroll.style.overflow="visible",e._infScroll.style.transform="translate3d(0px, "+(e.currentY-e.startY)+"px, 0px)")))},e.onEnd=function(){e.startY=0,e.currentY=0,e.dragging=!1,e.state.pullToRefreshThresholdBreached&&(e.props.refreshFunction&&e.props.refreshFunction(),e.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){e._infScroll&&(e._infScroll.style.overflow="auto",e._infScroll.style.transform="none",e._infScroll.style.willChange="unset")})},e.onScrollListener=function(o){typeof e.props.onScroll=="function"&&setTimeout(function(){return e.props.onScroll&&e.props.onScroll(o)},0);var i=e.props.height||e._scrollableNode?o.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!e.actionTriggered){var c=e.props.inverse?e.isElementAtTop(i,e.props.scrollThreshold):e.isElementAtBottom(i,e.props.scrollThreshold);c&&e.props.hasMore&&(e.actionTriggered=!0,e.setState({showLoader:!0}),e.props.next&&e.props.next()),e.lastScrollTop=i.scrollTop}},e.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},e.throttledOnScrollListener=Wt(150,e.onScrollListener).bind(e),e.onStart=e.onStart.bind(e),e.onMove=e.onMove.bind(e),e.onEnd=e.onEnd.bind(e),e}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,e){var o=n.dataLength!==e.prevDataLength;return o?L(L({},e),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,e){e===void 0&&(e=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=me(e);return i.unit===D.Pixel?n.scrollTop<=i.value+o-n.scrollHeight+1:n.scrollTop<=i.value/100+o-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,e){e===void 0&&(e=.8);var o=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=me(e);return i.unit===D.Pixel?n.scrollTop+o>=n.scrollHeight-i.value:n.scrollTop+o>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,e=L({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),o=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return j.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},j.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(c){return n._infScroll=c},style:e},this.props.pullDownToRefresh&&j.createElement("div",{style:{position:"relative"},ref:function(c){return n._pullDown=c}},j.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!o&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(m.Component),ee={},M={},Vt={get exports(){return M},set exports(r){M=r}};(function(r){function t(n){return n&&n.__esModule?n:{default:n}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(Vt);var q={};const Gt=be(Ue);var pe;function te(){return pe||(pe=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return t.createSvgIcon}});var t=Gt}(q)),q}const re=be(We);var Jt=M;Object.defineProperty(ee,"__esModule",{value:!0});var je=ee.default=void 0,Kt=Jt(te()),Qt=re,Xt=(0,Kt.default)((0,Qt.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll");je=ee.default=Xt;var ne={},Zt=M;Object.defineProperty(ne,"__esModule",{value:!0});var Ie=ne.default=void 0,er=Zt(te()),tr=re,rr=(0,er.default)((0,tr.jsx)("path",{d:"m1.79 12 5.58 5.59L5.96 19 .37 13.41 1.79 12zm.45-7.78L12.9 14.89l-1.28 1.28L7.44 12l-1.41 1.41L11.62 19l2.69-2.69 4.89 4.89 1.41-1.41L3.65 2.81 2.24 4.22zm14.9 9.27L23.62 7 22.2 5.59l-6.48 6.48 1.42 1.42zM17.96 7l-1.41-1.41-3.65 3.66 1.41 1.41L17.96 7z"}),"RemoveDone");Ie=ne.default=rr;const Ye=(r,t,n,e=!0)=>{const o=({isAdmin:i=!1,...c})=>f("div",{className:`flex justify-between${i?"":" flex-1 mx-1"}`,children:[f("div",{className:"mr-3 flex flex-col",children:[f("span",{className:`${i?"":"text-white font-semibold "}text-base`,children:["Filter by ",t,":"]}),f("div",{children:[l(H,{variant:"contained",startIcon:l(je,{}),size:"small",onClick:()=>c.setFilters(n),sx:{marginRight:"1rem"},children:"All"}),e&&l(H,{variant:"contained",startIcon:l(Ie,{}),size:"small",color:"warning",onClick:()=>c.setFilters([]),children:"None"})]})]}),l(r,{...c})]});return o.displayName=t,o},se=["simulation","twitter","youtube"],nr=({filters:r,setFilters:t,...n})=>l(ve,{sx:{backgroundColor:"white"},value:r,label:"SourceSelection",onChange:({target:{value:e}})=>t(e),multiple:!0,...n,children:se.map(e=>f(W,{value:e,children:[l(z,{checked:r.indexOf(e)>-1}),l(V,{primary:x(e)})]},e))}),sr=Ye(nr,"Source",se,!1),He=R.map(x),or=({filters:r,setFilters:t,...n})=>f(ve,{sx:{backgroundColor:"white"},value:r,label:"TopicSelection",onChange:({target:{value:e}})=>t(e),multiple:!0,...n,children:[l(le,{children:"Sentence Label"}),f(W,{value:-1,children:[l(z,{checked:r.indexOf(-1)>-1}),l(V,{primary:"Is Abuse"})]}),l(le,{children:"Phrases"}),He.map((e,o)=>f(W,{value:o,children:[l(z,{checked:r.indexOf(o)>-1}),l(V,{primary:e})]},e))]}),J=[...Array(He.length).keys()],ar=Ye(or,"Topic",J),ir=({topics:r,setTopics:t,sources:n,setSources:e,...o})=>f(N,{children:[l(ar,{...o,filters:r,setFilters:t}),l(sr,{...o,filters:n,setFilters:e})]}),lr=()=>{const[r,t]=m.useState([]),[n,e]=m.useState([]);return{sources:r,setSources:t,topics:n,setTopics:e}};var oe={},cr=M;Object.defineProperty(oe,"__esModule",{value:!0});var ke=oe.default=void 0,ur=cr(te()),dr=re,hr=(0,ur.default)((0,dr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");ke=oe.default=hr;var Be={},F={},fr=_&&_.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i])},r(t,n)};return function(t,n){r(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),mr=_&&_.__createBinding||(Object.create?function(r,t,n,e){e===void 0&&(e=n),Object.defineProperty(r,e,{enumerable:!0,get:function(){return t[n]}})}:function(r,t,n,e){e===void 0&&(e=n),r[e]=t[n]}),pr=_&&_.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),gr=_&&_.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var n in r)n!=="default"&&Object.hasOwnProperty.call(r,n)&&mr(t,r,n);return pr(t,r),t};Object.defineProperty(F,"__esModule",{value:!0});F.InteractiveHighlighter=void 0;var Y=gr(m);function vr(r,t){if(r===t)return!0;if(r==null||t==null||r.length!==t.length)return!1;for(var n=0;n<r.length;++n)if(r[n]!==t[n])return!1;return!0}var yr=function(r){fr(t,r);function t(n){var e=r.call(this,n)||this;return e.props.getSelectionFn?e._getSelectionMarker=e.props.getSelectionFn:e._getSelectionMarker=e._getSelectionFromDOM,e.onMouseUpHandler=e.onMouseUpHandler.bind(e),e.props.customClassFn?e._customClassFn=e.props.customClassFn:e._customClassFn=function(o){return o.length>0?e.props.customClass||"default":""},e._segments=[],e}return t.prototype._getSelectionFromDOM=function(){var n=window.getSelection();if(!n)return console.error("getSelection() returned null"),null;var e=n.toString(),o=n.anchorNode,i=n.focusNode,c=n.anchorOffset,s=n.focusOffset,a,u=!1;if(o&&i)a=o.compareDocumentPosition(i);else return console.warn("Returning from onMouseUpHandler because anchorNode or focusNode are null"),null;a===o.DOCUMENT_POSITION_FOLLOWING?u=!0:a===0&&(u=s-c>0);var d=u?c:s,h;if(u)if(o.parentNode)h=o.parentNode;else return console.error("Ended up with null anchorNode.parentNode - should be impossible!"),null;else if(i.parentNode)h=i.parentNode;else return console.error("Ended up with null focusNode.parentNode - should be impossible!"),null;if(h.getAttribute("data-segment")){var p=Number(h.getAttribute("data-segment"));d+=this._segments[p].start}return n.removeAllRanges(),{selectionStart:d,selectionLength:e.length}},t.prototype._computeSegments=function(){for(var n=this.props.highlights,e=[],o=0,i=[],c=function(a){var u=n.map(function(d){return a>=Number(d.startIndex)&&a<Number(d.startIndex)+Number(d.numChars)});vr(i,u)||(a>0&&(e.push({start:o,end:a-1,highlights:i.map(function(d,h){return d?h:-1}).filter(function(d){return d!==-1})}),o=a),i=u.slice())},s=0;s<this.props.text.length;s++)c(s);return e.length===0?e.push({start:0,end:this.props.text.length,highlights:[]}):e.push({start:o,end:this.props.text.length,highlights:i.map(function(a,u){return a?u:-1}).filter(function(a){return a!==-1})}),e},t.prototype.onMouseUpHandler=function(n){n.preventDefault();var e=this._getSelectionMarker();if(e&&e.selectionLength){var o=this.props.text.substr(e.selectionStart,e.selectionLength);this.props.selectionHandler&&this.props.selectionHandler(o,e.selectionStart,e.selectionLength)}},t.prototype.render=function(){this._segments=this._computeSegments();for(var n=this.props.text,e=[],o=0;o<this._segments.length;o++){var i=this._segments[o].start,c=this._segments[o].end-this._segments[o].start+1;this._segments[o].highlights.length>0?e.push(Y.default.createElement("span",{key:"d"+o,"data-segment":o,className:this._customClassFn(this._segments[o].highlights)},n.substr(i,c))):e.push(Y.default.createElement("span",{key:"d"+o,"data-segment":o,className:this._customClassFn(this._segments[o].highlights)},n.substr(i,c)))}return Y.default.createElement("span",{onMouseUp:this.onMouseUpHandler},e)},t}(Y.Component);F.InteractiveHighlighter=yr;(function(r){var t=_&&_.__createBinding||(Object.create?function(e,o,i,c){c===void 0&&(c=i),Object.defineProperty(e,c,{enumerable:!0,get:function(){return o[i]}})}:function(e,o,i,c){c===void 0&&(c=i),e[c]=o[i]}),n=_&&_.__exportStar||function(e,o){for(var i in e)i!=="default"&&!o.hasOwnProperty(i)&&t(o,e,i)};Object.defineProperty(r,"__esModule",{value:!0}),n(F,r)})(Be);const br=({tweet:r})=>{var i;const t=new Date(r.created_at),n=Ot[t.getMonth()],e=((i=r.aspects_anno)==null?void 0:i.map(([c,s])=>({startIndex:c,numChars:s-c})))||[],o=r.verified?{label:"Verified",color:"success"}:{label:"Unverified",color:"info"};return f(O,{className:"p-5 mb-2",variant:"outlined",children:[f("div",{className:"flex justify-between",children:[f("div",{children:[l(ke,{}),l("span",{className:"text-primary",children:r.username})," on"," ",f("span",{className:"text-primary",children:[n," ",t.getDate(),","," ",t.getFullYear()]})]}),l(w,{size:"small",...o})]}),l(Be.InteractiveHighlighter,{text:r.text,highlights:e,customClass:"highlighted"}),f("div",{className:"mt-1",children:[r.is_abuse?f(N,{children:[l(w,{className:"mr-1",label:"Abusive",color:"warning"}),l(w,{label:`Sexual Score: ${r.sexual_score}/10`,color:"warning"})]}):l(w,{label:"Non-abusive",color:"success"}),l(w,{className:"ml-1",label:`Source: ${x(r.source)}`,color:"secondary"}),r.aspects_anno&&l("div",{className:"mt-1",children:r.aspects_anno.map(([c,s,a])=>l(w,{className:"mr-1",label:`${x(R[a])}: ${r.text.slice(c,s)}`,color:"info"},a))})]})]})},_r=r=>{const[t,n]=m.useState({}),[e,o]=m.useState(0),{startDate:i,endDate:c}=m.useContext(C),s=lr(),{topics:a,sources:u}=s;return m.useEffect(()=>{n({})},[i,c,a,u]),m.useEffect(()=>{let d,h;if(a.length===J.length+1||a.length===0)d=void 0,h=[];else{const S=a.indexOf(-1);S<0?(d=void 0,h=a.length===J.length?[]:a):(d=!0,h=[...a.slice(0,S),...a.slice(S+1,a.length)])}const p=u.length===se.length?[]:u,g=B.pseudoTweetsReadPseudoTweets(d,p,h,e,10,i,c,!0);return g.then(S=>{const ie={};for(const A of S)ie[A.id]=A;n(A=>({...A,...ie}))}).catch(S=>{S instanceof E&&console.log("Tweets umounted")}),()=>{g==null||g.cancel()}},[e,i,c,a,u]),f("div",{...r,children:[l("div",{className:"mb-2 p-2 flex justify-between bg-primary",children:l(ir,{...s})}),Object.keys(t).length?l("div",{className:"overflow-y-auto",children:l(zt,{dataLength:Object.keys(t).length,next:()=>o(e+10),height:"65vh",hasMore:!0,loader:l("h4",{children:"Loading..."}),endMessage:l("p",{style:{textAlign:"center"},children:l("b",{children:"Yay! You have seen it all"})}),children:Object.entries(t).sort(([d],[h])=>parseInt(h)-parseInt(d)).map(([d,h])=>l(br,{tweet:h},d))})}):l("p",{children:l("b",{children:" No texts found"})})]})},ae=({children:r})=>l("div",{className:"text-2xl font-bold text-primary",children:r}),Sr={colors:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b"],enableTooltip:!0,deterministic:!0,fontFamily:"impact",fontSizes:[5,60],fontStyle:"normal",fontWeight:"normal",padding:3,rotations:3,rotationAngles:[0,90],scale:"sqrt",spiral:"archimedean",transitionDuration:1e3},wr=()=>{const[r,t]=m.useState({words:[],loaded:!1}),{startDate:n,endDate:e}=m.useContext(C);return m.useEffect(()=>{const o=Lt.tweetsCommonsGetWordCloud(n,e);return o.then(i=>{const c=i.map(([s,a])=>({text:s,value:a}));t({words:c,loaded:!0})}).catch(i=>{i instanceof E&&console.log("WordCloud umounted")}),()=>{o==null||o.cancel()}},[n,e]),f(O,{className:"ml-2",style:{height:"75vh"},children:[l(ae,{children:l("h2",{className:"ml-3",children:"Trending Words"})}),r.loaded?l(lt,{options:Sr,words:r.words}):l("div",{className:"flex justify-center items-center h-5/6 text-xl",children:"Loading"})]})},Tr=()=>f("div",{className:"flex mt-2",children:[l(_r,{className:"shrink"}),l("div",{className:"w-1/2 flex-auto",children:l(wr,{})})]}),Dr=()=>f("div",{className:"mt-2",children:[l(qt,{}),l(Bt,{}),l(Tr,{})]}),xr=r=>f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384.48 490.78",...r,children:[l("path",{fill:"#ce0000",fillRule:"evenodd",stroke:"#000063",strokeWidth:"12.431",d:"M6.215 484.57l363.1-.01-237.66-241.01 246.61.29L6.236 6.22l-.023 478.35z"}),l("path",{fill:"#fff",fillRule:"evenodd",d:"M173.195 356.371l-25.869 8.566 20.235 19.04-27.259-1.752 11.231 25.145-24.491-11.78.504 27.412-18.009-20.035-10.296 25.53-8.77-25.23-19.522 19.735 1.784-26.585-25.77 10.953 12.079-23.886-28.12.492 20.542-17.563L25.3 356.37l25.87-8.554-20.248-19.04 27.259 1.74-11.219-25.133 24.492 11.78-.505-27.424 18.009 20.035 10.283-25.518 8.783 25.23 19.522-19.747-1.796 26.585 25.783-10.941-12.08 23.886 28.108-.492-20.542 17.564zM142.12 179.34l-10.86 8.04 5.35 4.42c13-10.05 22.25-19.23 29.48-34.47 1.69 20.34-16.95 66-65.88 66.51-52.375-.05-70.547-48.5-68.526-67.37 9.621 17.45 15.492 25.97 30.594 35.05l4.62-4.24-10.229-8.52 13.168-3.42-7.085-11.93 13.796 1.01-1.733-13.89 12.093 7.08 3.784-12.93 8.69 10.41 8.138-9.87 4.43 13.41 11.31-7.86-1.45 13.64 13.54-1.59-6.35 12.61 13.12 3.91z"})]}),Fe="totalCount",Er=r=>localStorage.setItem(Fe,r.toString()),Cr=()=>{const r=localStorage.getItem(Fe);return r?parseInt(r):0},Lr=r=>{const[t,n]=m.useState(Cr);return m.useEffect(()=>{const e=B.pseudoTweetsGetCount(!0);return e.then(({total:o})=>{n(o),Er(o)}).catch(o=>{o instanceof E&&console.log("DataSection umounted")}),()=>{e.cancel()}},[]),f(ye,{...r,children:[l(ae,{children:l("h2",{children:"Data"})}),f("div",{className:"flex justify-between text-primary items-center h-5/6",children:[f("div",{children:[l(at,{fontSize:"large"}),l("b",{children:t.toLocaleString("hi")}),l("div",{className:"text-black mt-1",children:"Sentences Analysed"})]}),f("div",{children:[l(it,{fontSize:"large"}),l("b",{children:"9"}),l("div",{className:"text-black mt-1",children:"Phrases Analysed"})]})]})]})},Or=()=>f("div",{className:"flex justify-between pt-2",children:[f(ye,{className:"w-5/12 p-1.5",children:[l(ae,{children:l("h2",{children:"An Idea Behind"})}),l("p",{children:"Detecting Intimate Partner Violence (IPV) is arduous due to the unavailability of conversations between intimate partners. We aim to find abusive texts from social media platforms that could have potentially been used for IPV."})]}),l(xr,{className:"w-24"}),l(Lr,{className:"w-4/12 p-3"})]}),Mr=()=>f(N,{children:[l(Q,{}),l("div",{className:"bg-blue-50",children:f("div",{className:"w-11/12 mx-auto",children:[l(Or,{}),l(Dr,{})]})})]}),Nr=()=>{const[r,t]=m.useState(""),[n,e]=m.useState(""),o=_e(),i=K();return f(O,{className:"w-1/3 mx-auto mt-10 p-4",children:[l(ze,{className:"text-center",children:"Login"}),f("form",{className:" flex flex-col items-center",onSubmit:async s=>{var d,h;s.preventDefault();const{access_token:a}=await Ct.authLogin({username:r,password:n});sessionStorage.setItem("accessToken",a);const u=((h=(d=i.state)==null?void 0:d.from)==null?void 0:h.pathname)||"/";o(u,{replace:!0})},children:[l("div",{className:"my-2",children:l(U,{id:"outlined-username",label:"Username",onChange:({target:{value:s}})=>t(s),InputLabelProps:{shrink:!0}})}),l("div",{className:"mb-3",children:l(U,{id:"outlined-password",label:"Password",type:"password",onChange:({target:{value:s}})=>e(s),InputLabelProps:{shrink:!0}})}),l(H,{type:"submit",variant:"contained",children:"Login"})]})]})},Pr=()=>f(N,{children:[l(Q,{}),f("div",{className:"flex flex-col items-center mt-16",children:[l("h2",{className:"text-xl font-bold  text-primary",children:"Nothing to see here!"}),l("p",{className:"mt-8",children:l(Ke,{to:"/",className:"underline text-blue-600 hover:text-blue-800 visited:text-purple-600",children:"Go to the home page"})})]})]}),Rr=({children:r})=>{const t=K(),n=_e();return m.useEffect(()=>{Rt()||n("/login",{state:{from:t},replace:!0})},[n,t]),r},ge=m.lazy(()=>dt(()=>import("./TweetCollectionAdminPanel-074f6adf.js"),["assets/TweetCollectionAdminPanel-074f6adf.js","assets/mui_material-d6a2ca06.js","assets/react-fc2298a4.js","assets/react_router-b929a5cd.js","assets/chart_js-00feeec8.js","assets/chart_js_extras-61871ffc.js","assets/moment-fbc5633a.js","assets/mui_extras-3914081e.js","assets/word_cloud-3e26f9b7.js"])),Ar=()=>{const[r,t]=m.useState(Re),[n,e]=m.useState(Ae);return l(C.Provider,{value:{startDate:r,endDate:n,setStartDate:t,setEndDate:e},children:l(Qe,{children:f(Xe,{children:[l(T,{index:!0,element:l(Mr,{})}),l(T,{path:"/login",element:l(Nr,{})}),f(T,{path:"/ap",element:l(Rr,{children:l(pt,{})}),children:[l(T,{index:!0,element:l(m.Suspense,{fallback:"Loading",children:l(ge,{action:"verify"})})}),l(T,{path:"modify",element:l(m.Suspense,{fallback:"Loading",children:l(ge,{action:"modify"})})})]}),l(T,{path:"*",element:l(Pr,{})})]})})})};Le(document.getElementById("root")).render(l(m.StrictMode,{children:l(Ar,{})}));export{R as A,ir as C,v as O,B as P,J as a,se as b,E as c,Be as l,Wr as n,b as r,Pe as s,x as t,lr as u};
