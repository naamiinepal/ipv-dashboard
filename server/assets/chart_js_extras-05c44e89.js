import{e as k,c as _,v as Nt,s as Ee}from"./chart_js-4074cdf3.js";var Ne={exports:{}};(function(e){(function(o,r,l,a){var c=["","webkit","Moz","MS","ms","o"],u=r.createElement("div"),d="function",m=Math.round,v=Math.abs,p=Date.now;function E(t,n,i){return setTimeout(Ct(t,i),n)}function T(t,n,i){return Array.isArray(t)?(y(t,i[n],i),!0):!1}function y(t,n,i){var s;if(!!t)if(t.forEach)t.forEach(n,i);else if(t.length!==a)for(s=0;s<t.length;)n.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&n.call(i,t[s],s,t)}function N(t,n,i){var s="DEPRECATED METHOD: "+n+`
`+i+` AT 
`;return function(){var f=new Error("get-stack-trace"),h=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",g=o.console&&(o.console.warn||o.console.log);return g&&g.call(o.console,s,h),t.apply(this,arguments)}}var x;typeof Object.assign!="function"?x=function(n){if(n===a||n===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),s=1;s<arguments.length;s++){var f=arguments[s];if(f!==a&&f!==null)for(var h in f)f.hasOwnProperty(h)&&(i[h]=f[h])}return i}:x=Object.assign;var Q=N(function(n,i,s){for(var f=Object.keys(i),h=0;h<f.length;)(!s||s&&n[f[h]]===a)&&(n[f[h]]=i[f[h]]),h++;return n},"extend","Use `assign`."),He=N(function(n,i){return Q(n,i,!0)},"merge","Use `assign`.");function D(t,n,i){var s=n.prototype,f;f=t.prototype=Object.create(s),f.constructor=t,f._super=s,i&&x(f,i)}function Ct(t,n){return function(){return t.apply(n,arguments)}}function bt(t,n){return typeof t==d?t.apply(n&&n[0]||a,n):t}function jt(t,n){return t===a?n:t}function ft(t,n,i){y(dt(n),function(s){t.addEventListener(s,i,!1)})}function ht(t,n,i){y(dt(n),function(s){t.removeEventListener(s,i,!1)})}function Kt(t,n){for(;t;){if(t==n)return!0;t=t.parentNode}return!1}function Z(t,n){return t.indexOf(n)>-1}function dt(t){return t.trim().split(/\s+/g)}function j(t,n,i){if(t.indexOf&&!i)return t.indexOf(n);for(var s=0;s<t.length;){if(i&&t[s][i]==n||!i&&t[s]===n)return s;s++}return-1}function mt(t){return Array.prototype.slice.call(t,0)}function Jt(t,n,i){for(var s=[],f=[],h=0;h<t.length;){var g=n?t[h][n]:t[h];j(f,g)<0&&s.push(t[h]),f[h]=g,h++}return i&&(n?s=s.sort(function(O,b){return O[n]>b[n]}):s=s.sort()),s}function pt(t,n){for(var i,s,f=n[0].toUpperCase()+n.slice(1),h=0;h<c.length;){if(i=c[h],s=i?i+f:n,s in t)return s;h++}return a}var Xe=1;function Fe(){return Xe++}function Qt(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||o}var Ve=/mobile|tablet|ip(ad|hone|od)|android/i,$t="ontouchstart"in o,We=pt(o,"PointerEvent")!==a,ke=$t&&Ve.test(navigator.userAgent),$="touch",Ze="pen",Mt="mouse",qe="kinect",Ge=25,C=1,q=2,P=4,M=8,vt=1,tt=2,et=4,nt=8,it=16,z=tt|et,G=nt|it,te=z|G,ee=["x","y"],gt=["clientX","clientY"];function R(t,n){var i=this;this.manager=t,this.callback=n,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){bt(t.options.enable,[t])&&i.handler(s)},this.init()}R.prototype={handler:function(){},init:function(){this.evEl&&ft(this.element,this.evEl,this.domHandler),this.evTarget&&ft(this.target,this.evTarget,this.domHandler),this.evWin&&ft(Qt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ht(this.element,this.evEl,this.domHandler),this.evTarget&&ht(this.target,this.evTarget,this.domHandler),this.evWin&&ht(Qt(this.element),this.evWin,this.domHandler)}};function Be(t){var n,i=t.options.inputClass;return i?n=i:We?n=Dt:ke?n=yt:$t?n=Rt:n=Et,new n(t,je)}function je(t,n,i){var s=i.pointers.length,f=i.changedPointers.length,h=n&C&&s-f===0,g=n&(P|M)&&s-f===0;i.isFirst=!!h,i.isFinal=!!g,h&&(t.session={}),i.eventType=n,Ke(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Ke(t,n){var i=t.session,s=n.pointers,f=s.length;i.firstInput||(i.firstInput=ne(n)),f>1&&!i.firstMultiple?i.firstMultiple=ne(n):f===1&&(i.firstMultiple=!1);var h=i.firstInput,g=i.firstMultiple,S=g?g.center:h.center,O=n.center=ie(s);n.timeStamp=p(),n.deltaTime=n.timeStamp-h.timeStamp,n.angle=At(S,O),n.distance=Tt(S,O),Je(i,n),n.offsetDirection=re(n.deltaX,n.deltaY);var b=oe(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=b.x,n.overallVelocityY=b.y,n.overallVelocity=v(b.x)>v(b.y)?b.x:b.y,n.scale=g?tn(g.pointers,s):1,n.rotation=g?$e(g.pointers,s):0,n.maxPointers=i.prevInput?n.pointers.length>i.prevInput.maxPointers?n.pointers.length:i.prevInput.maxPointers:n.pointers.length,Qe(i,n);var Y=t.element;Kt(n.srcEvent.target,Y)&&(Y=n.srcEvent.target),n.target=Y}function Je(t,n){var i=n.center,s=t.offsetDelta||{},f=t.prevDelta||{},h=t.prevInput||{};(n.eventType===C||h.eventType===P)&&(f=t.prevDelta={x:h.deltaX||0,y:h.deltaY||0},s=t.offsetDelta={x:i.x,y:i.y}),n.deltaX=f.x+(i.x-s.x),n.deltaY=f.y+(i.y-s.y)}function Qe(t,n){var i=t.lastInterval||n,s=n.timeStamp-i.timeStamp,f,h,g,S;if(n.eventType!=M&&(s>Ge||i.velocity===a)){var O=n.deltaX-i.deltaX,b=n.deltaY-i.deltaY,Y=oe(s,O,b);h=Y.x,g=Y.y,f=v(Y.x)>v(Y.y)?Y.x:Y.y,S=re(O,b),t.lastInterval=n}else f=i.velocity,h=i.velocityX,g=i.velocityY,S=i.direction;n.velocity=f,n.velocityX=h,n.velocityY=g,n.direction=S}function ne(t){for(var n=[],i=0;i<t.pointers.length;)n[i]={clientX:m(t.pointers[i].clientX),clientY:m(t.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:n,center:ie(n),deltaX:t.deltaX,deltaY:t.deltaY}}function ie(t){var n=t.length;if(n===1)return{x:m(t[0].clientX),y:m(t[0].clientY)};for(var i=0,s=0,f=0;f<n;)i+=t[f].clientX,s+=t[f].clientY,f++;return{x:m(i/n),y:m(s/n)}}function oe(t,n,i){return{x:n/t||0,y:i/t||0}}function re(t,n){return t===n?vt:v(t)>=v(n)?t<0?tt:et:n<0?nt:it}function Tt(t,n,i){i||(i=ee);var s=n[i[0]]-t[i[0]],f=n[i[1]]-t[i[1]];return Math.sqrt(s*s+f*f)}function At(t,n,i){i||(i=ee);var s=n[i[0]]-t[i[0]],f=n[i[1]]-t[i[1]];return Math.atan2(f,s)*180/Math.PI}function $e(t,n){return At(n[1],n[0],gt)+At(t[1],t[0],gt)}function tn(t,n){return Tt(n[0],n[1],gt)/Tt(t[0],t[1],gt)}var en={mousedown:C,mousemove:q,mouseup:P},nn="mousedown",on="mousemove mouseup";function Et(){this.evEl=nn,this.evWin=on,this.pressed=!1,R.apply(this,arguments)}D(Et,R,{handler:function(n){var i=en[n.type];i&C&&n.button===0&&(this.pressed=!0),i&q&&n.which!==1&&(i=P),this.pressed&&(i&P&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[n],changedPointers:[n],pointerType:Mt,srcEvent:n}))}});var rn={pointerdown:C,pointermove:q,pointerup:P,pointercancel:M,pointerout:M},sn={2:$,3:Ze,4:Mt,5:qe},se="pointerdown",ae="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(se="MSPointerDown",ae="MSPointerMove MSPointerUp MSPointerCancel");function Dt(){this.evEl=se,this.evWin=ae,R.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}D(Dt,R,{handler:function(n){var i=this.store,s=!1,f=n.type.toLowerCase().replace("ms",""),h=rn[f],g=sn[n.pointerType]||n.pointerType,S=g==$,O=j(i,n.pointerId,"pointerId");h&C&&(n.button===0||S)?O<0&&(i.push(n),O=i.length-1):h&(P|M)&&(s=!0),!(O<0)&&(i[O]=n,this.callback(this.manager,h,{pointers:i,changedPointers:[n],pointerType:g,srcEvent:n}),s&&i.splice(O,1))}});var an={touchstart:C,touchmove:q,touchend:P,touchcancel:M},ln="touchstart",cn="touchstart touchmove touchend touchcancel";function le(){this.evTarget=ln,this.evWin=cn,this.started=!1,R.apply(this,arguments)}D(le,R,{handler:function(n){var i=an[n.type];if(i===C&&(this.started=!0),!!this.started){var s=un.call(this,n,i);i&(P|M)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:$,srcEvent:n})}}});function un(t,n){var i=mt(t.touches),s=mt(t.changedTouches);return n&(P|M)&&(i=Jt(i.concat(s),"identifier",!0)),[i,s]}var fn={touchstart:C,touchmove:q,touchend:P,touchcancel:M},hn="touchstart touchmove touchend touchcancel";function yt(){this.evTarget=hn,this.targetIds={},R.apply(this,arguments)}D(yt,R,{handler:function(n){var i=fn[n.type],s=dn.call(this,n,i);!s||this.callback(this.manager,i,{pointers:s[0],changedPointers:s[1],pointerType:$,srcEvent:n})}});function dn(t,n){var i=mt(t.touches),s=this.targetIds;if(n&(C|q)&&i.length===1)return s[i[0].identifier]=!0,[i,i];var f,h,g=mt(t.changedTouches),S=[],O=this.target;if(h=i.filter(function(b){return Kt(b.target,O)}),n===C)for(f=0;f<h.length;)s[h[f].identifier]=!0,f++;for(f=0;f<g.length;)s[g[f].identifier]&&S.push(g[f]),n&(P|M)&&delete s[g[f].identifier],f++;if(!!S.length)return[Jt(h.concat(S),"identifier",!0),S]}var mn=2500,ce=25;function Rt(){R.apply(this,arguments);var t=Ct(this.handler,this);this.touch=new yt(this.manager,t),this.mouse=new Et(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}D(Rt,R,{handler:function(n,i,s){var f=s.pointerType==$,h=s.pointerType==Mt;if(!(h&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(f)pn.call(this,i,s);else if(h&&vn.call(this,s))return;this.callback(n,i,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function pn(t,n){t&C?(this.primaryTouch=n.changedPointers[0].identifier,ue.call(this,n)):t&(P|M)&&ue.call(this,n)}function ue(t){var n=t.changedPointers[0];if(n.identifier===this.primaryTouch){var i={x:n.clientX,y:n.clientY};this.lastTouches.push(i);var s=this.lastTouches,f=function(){var h=s.indexOf(i);h>-1&&s.splice(h,1)};setTimeout(f,mn)}}function vn(t){for(var n=t.srcEvent.clientX,i=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var f=this.lastTouches[s],h=Math.abs(n-f.x),g=Math.abs(i-f.y);if(h<=ce&&g<=ce)return!0}return!1}var fe=pt(u.style,"touchAction"),he=fe!==a,de="compute",me="auto",wt="manipulation",B="none",ot="pan-x",rt="pan-y",xt=Tn();function Lt(t,n){this.manager=t,this.set(n)}Lt.prototype={set:function(t){t==de&&(t=this.compute()),he&&this.manager.element.style&&xt[t]&&(this.manager.element.style[fe]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(n){bt(n.options.enable,[n])&&(t=t.concat(n.getTouchAction()))}),gn(t.join(" "))},preventDefaults:function(t){var n=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,f=Z(s,B)&&!xt[B],h=Z(s,rt)&&!xt[rt],g=Z(s,ot)&&!xt[ot];if(f){var S=t.pointers.length===1,O=t.distance<2,b=t.deltaTime<250;if(S&&O&&b)return}if(!(g&&h)&&(f||h&&i&z||g&&i&G))return this.preventSrc(n)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gn(t){if(Z(t,B))return B;var n=Z(t,ot),i=Z(t,rt);return n&&i?B:n||i?n?ot:rt:Z(t,wt)?wt:me}function Tn(){if(!he)return!1;var t={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=n?o.CSS.supports("touch-action",i):!0}),t}var It=1,w=2,K=4,V=8,H=V,st=16,U=32;function X(t){this.options=x({},this.defaults,t||{}),this.id=Fe(),this.manager=null,this.options.enable=jt(this.options.enable,!0),this.state=It,this.simultaneous={},this.requireFail=[]}X.prototype={defaults:{},set:function(t){return x(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(T(t,"recognizeWith",this))return this;var n=this.simultaneous;return t=Pt(t,this),n[t.id]||(n[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return T(t,"dropRecognizeWith",this)?this:(t=Pt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(T(t,"requireFailure",this))return this;var n=this.requireFail;return t=Pt(t,this),j(n,t)===-1&&(n.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(T(t,"dropRequireFailure",this))return this;t=Pt(t,this);var n=j(this.requireFail,t);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var n=this,i=this.state;function s(f){n.manager.emit(f,t)}i<V&&s(n.options.event+pe(i)),s(n.options.event),t.additionalEvent&&s(t.additionalEvent),i>=V&&s(n.options.event+pe(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=U},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(U|It)))return!1;t++}return!0},recognize:function(t){var n=x({},t);if(!bt(this.options.enable,[this,n])){this.reset(),this.state=U;return}this.state&(H|st|U)&&(this.state=It),this.state=this.process(n),this.state&(w|K|V|st)&&this.tryEmit(n)},process:function(t){},getTouchAction:function(){},reset:function(){}};function pe(t){return t&st?"cancel":t&V?"end":t&K?"move":t&w?"start":""}function ve(t){return t==it?"down":t==nt?"up":t==tt?"left":t==et?"right":""}function Pt(t,n){var i=n.manager;return i?i.get(t):t}function L(){X.apply(this,arguments)}D(L,X,{defaults:{pointers:1},attrTest:function(t){var n=this.options.pointers;return n===0||t.pointers.length===n},process:function(t){var n=this.state,i=t.eventType,s=n&(w|K),f=this.attrTest(t);return s&&(i&M||!f)?n|st:s||f?i&P?n|V:n&w?n|K:w:U}});function St(){L.apply(this,arguments),this.pX=null,this.pY=null}D(St,L,{defaults:{event:"pan",threshold:10,pointers:1,direction:te},getTouchAction:function(){var t=this.options.direction,n=[];return t&z&&n.push(rt),t&G&&n.push(ot),n},directionTest:function(t){var n=this.options,i=!0,s=t.distance,f=t.direction,h=t.deltaX,g=t.deltaY;return f&n.direction||(n.direction&z?(f=h===0?vt:h<0?tt:et,i=h!=this.pX,s=Math.abs(t.deltaX)):(f=g===0?vt:g<0?nt:it,i=g!=this.pY,s=Math.abs(t.deltaY))),t.direction=f,i&&s>n.threshold&&f&n.direction},attrTest:function(t){return L.prototype.attrTest.call(this,t)&&(this.state&w||!(this.state&w)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=ve(t.direction);n&&(t.additionalEvent=this.options.event+n),this._super.emit.call(this,t)}});function zt(){L.apply(this,arguments)}D(zt,L,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[B]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&w)},emit:function(t){if(t.scale!==1){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}this._super.emit.call(this,t)}});function Ut(){X.apply(this,arguments),this._timer=null,this._input=null}D(Ut,X,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[me]},process:function(t){var n=this.options,i=t.pointers.length===n.pointers,s=t.distance<n.threshold,f=t.deltaTime>n.time;if(this._input=t,!s||!i||t.eventType&(P|M)&&!f)this.reset();else if(t.eventType&C)this.reset(),this._timer=E(function(){this.state=H,this.tryEmit()},n.time,this);else if(t.eventType&P)return H;return U},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===H&&(t&&t.eventType&P?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Yt(){L.apply(this,arguments)}D(Yt,L,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[B]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&w)}});function Ht(){L.apply(this,arguments)}D(Ht,L,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:z|G,pointers:1},getTouchAction:function(){return St.prototype.getTouchAction.call(this)},attrTest:function(t){var n=this.options.direction,i;return n&(z|G)?i=t.overallVelocity:n&z?i=t.overallVelocityX:n&G&&(i=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&v(i)>this.options.velocity&&t.eventType&P},emit:function(t){var n=ve(t.offsetDirection);n&&this.manager.emit(this.options.event+n,t),this.manager.emit(this.options.event,t)}});function _t(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}D(_t,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[wt]},process:function(t){var n=this.options,i=t.pointers.length===n.pointers,s=t.distance<n.threshold,f=t.deltaTime<n.time;if(this.reset(),t.eventType&C&&this.count===0)return this.failTimeout();if(s&&f&&i){if(t.eventType!=P)return this.failTimeout();var h=this.pTime?t.timeStamp-this.pTime<n.interval:!0,g=!this.pCenter||Tt(this.pCenter,t.center)<n.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,!g||!h?this.count=1:this.count+=1,this._input=t;var S=this.count%n.taps;if(S===0)return this.hasRequireFailures()?(this._timer=E(function(){this.state=H,this.tryEmit()},n.interval,this),w):H}return U},failTimeout:function(){return this._timer=E(function(){this.state=U},this.options.interval,this),U},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==H&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function F(t,n){return n=n||{},n.recognizers=jt(n.recognizers,F.defaults.preset),new Xt(t,n)}F.VERSION="2.0.7",F.defaults={domEvents:!1,touchAction:de,enable:!0,inputTarget:null,inputClass:null,preset:[[Yt,{enable:!1}],[zt,{enable:!1},["rotate"]],[Ht,{direction:z}],[St,{direction:z},["swipe"]],[_t],[_t,{event:"doubletap",taps:2},["tap"]],[Ut]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var En=1,ge=2;function Xt(t,n){this.options=x({},F.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=Be(this),this.touchAction=new Lt(this,this.options.touchAction),Te(this,!0),y(this.options.recognizers,function(i){var s=this.add(new i[0](i[1]));i[2]&&s.recognizeWith(i[2]),i[3]&&s.requireFailure(i[3])},this)}Xt.prototype={set:function(t){return x(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ge:En},recognize:function(t){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(t);var i,s=this.recognizers,f=n.curRecognizer;(!f||f&&f.state&H)&&(f=n.curRecognizer=null);for(var h=0;h<s.length;)i=s[h],n.stopped!==ge&&(!f||i==f||i.canRecognizeWith(f))?i.recognize(t):i.reset(),!f&&i.state&(w|K|V)&&(f=n.curRecognizer=i),h++}},get:function(t){if(t instanceof X)return t;for(var n=this.recognizers,i=0;i<n.length;i++)if(n[i].options.event==t)return n[i];return null},add:function(t){if(T(t,"add",this))return this;var n=this.get(t.options.event);return n&&this.remove(n),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(T(t,"remove",this))return this;if(t=this.get(t),t){var n=this.recognizers,i=j(n,t);i!==-1&&(n.splice(i,1),this.touchAction.update())}return this},on:function(t,n){if(t!==a&&n!==a){var i=this.handlers;return y(dt(t),function(s){i[s]=i[s]||[],i[s].push(n)}),this}},off:function(t,n){if(t!==a){var i=this.handlers;return y(dt(t),function(s){n?i[s]&&i[s].splice(j(i[s],n),1):delete i[s]}),this}},emit:function(t,n){this.options.domEvents&&yn(t,n);var i=this.handlers[t]&&this.handlers[t].slice();if(!(!i||!i.length)){n.type=t,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<i.length;)i[s](n),s++}},destroy:function(){this.element&&Te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Te(t,n){var i=t.element;if(!!i.style){var s;y(t.options.cssProps,function(f,h){s=pt(i.style,h),n?(t.oldCssProps[s]=i.style[s],i.style[s]=f):i.style[s]=t.oldCssProps[s]||""}),n||(t.oldCssProps={})}}function yn(t,n){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=n,n.target.dispatchEvent(i)}x(F,{INPUT_START:C,INPUT_MOVE:q,INPUT_END:P,INPUT_CANCEL:M,STATE_POSSIBLE:It,STATE_BEGAN:w,STATE_CHANGED:K,STATE_ENDED:V,STATE_RECOGNIZED:H,STATE_CANCELLED:st,STATE_FAILED:U,DIRECTION_NONE:vt,DIRECTION_LEFT:tt,DIRECTION_RIGHT:et,DIRECTION_UP:nt,DIRECTION_DOWN:it,DIRECTION_HORIZONTAL:z,DIRECTION_VERTICAL:G,DIRECTION_ALL:te,Manager:Xt,Input:R,TouchAction:Lt,TouchInput:yt,MouseInput:Et,PointerEventInput:Dt,TouchMouseInput:Rt,SingleTouchInput:le,Recognizer:X,AttrRecognizer:L,Tap:_t,Pan:St,Swipe:Ht,Pinch:zt,Rotate:Yt,Press:Ut,on:ft,off:ht,each:y,merge:He,extend:Q,assign:x,inherit:D,bindFn:Ct,prefixed:pt});var xn=typeof o<"u"?o:typeof self<"u"?self:{};xn.Hammer=F,typeof a=="function"&&a.amd?a(function(){return F}):e.exports?e.exports=F:o[l]=F})(window,document,"Hammer")})(Ne);const at=Ne.exports;const ct=e=>e&&e.enabled&&e.modifierKey,Ce=(e,o)=>e&&o[e+"Key"],Gt=(e,o)=>e&&!o[e+"Key"];function W(e,o,r){return e===void 0?!0:typeof e=="string"?e.indexOf(o)!==-1:typeof e=="function"?e({chart:r}).indexOf(o)!==-1:!1}function Ft(e,o){return typeof e=="function"&&(e=e({chart:o})),typeof e=="string"?{x:e.indexOf("x")!==-1,y:e.indexOf("y")!==-1}:{x:!1,y:!1}}function In(e,o){let r;return function(){return clearTimeout(r),r=setTimeout(e,o),o}}function Pn({x:e,y:o},r){const l=r.scales,a=Object.keys(l);for(let c=0;c<a.length;c++){const u=l[a[c]];if(o>=u.top&&o<=u.bottom&&e>=u.left&&e<=u.right)return u}return null}function be(e,o,r){const{mode:l="xy",scaleMode:a,overScaleMode:c}=e||{},u=Pn(o,r),d=Ft(l,r),m=Ft(a,r);if(c){const p=Ft(c,r);for(const E of["x","y"])p[E]&&(m[E]=d[E],d[E]=!1)}if(u&&m[u.axis])return[u];const v=[];return k(r.scales,function(p){d[p.axis]&&v.push(p)}),v}const Vt=new WeakMap;function I(e){let o=Vt.get(e);return o||(o={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},Vt.set(e,o)),o}function Sn(e){Vt.delete(e)}function Me(e,o,r){const l=e.max-e.min,a=l*(o-1),c=e.isHorizontal()?r.x:r.y,u=Math.max(0,Math.min(1,(e.getValueForPixel(c)-e.min)/l||0)),d=1-u;return{min:a*u,max:a*d}}function ye(e,o,r,l,a){let c=r[l];if(c==="original"){const u=e.originalScaleLimits[o.id][l];c=Nt(u.options,u.scale)}return Nt(c,a)}function _n(e,o,r){const l=e.getValueForPixel(o),a=e.getValueForPixel(r);return{min:Math.min(l,a),max:Math.max(l,a)}}function J(e,{min:o,max:r},l,a=!1){const c=I(e.chart),{id:u,axis:d,options:m}=e,v=l&&(l[u]||l[d])||{},{minRange:p=0}=v,E=ye(c,e,v,"min",-1/0),T=ye(c,e,v,"max",1/0),y=Math.max(o,E),N=Math.min(r,T),x=a?Math.max(N-y,p):e.max-e.min;if(N-y!==x)if(E>N-x)o=y,r=y+x;else if(T<y+x)r=N,o=N-x;else{const Q=(x-N+y)/2;o=y-Q,r=N+Q}else o=y,r=N;return m.min=o,m.max=r,c.updatedScaleLimits[e.id]={min:o,max:r},e.parse(o)!==e.min||e.parse(r)!==e.max}function On(e,o,r,l){const a=Me(e,o,r),c={min:e.min+a.min,max:e.max-a.max};return J(e,c,l,!0)}function Nn(e,o,r,l){J(e,_n(e,o,r),l,!0)}const xe=e=>e===0||isNaN(e)?0:e<0?Math.min(Math.round(e),-1):Math.max(Math.round(e),1);function Cn(e){const r=e.getLabels().length-1;e.min>0&&(e.min-=1),e.max<r&&(e.max+=1)}function bn(e,o,r,l){const a=Me(e,o,r);e.min===e.max&&o<1&&Cn(e);const c={min:e.min+xe(a.min),max:e.max-xe(a.max)};return J(e,c,l,!0)}function Mn(e){return e.isHorizontal()?e.width:e.height}function An(e,o,r){const a=e.getLabels().length-1;let{min:c,max:u}=e;const d=Math.max(u-c,1),m=Math.round(Mn(e)/Math.max(d,10)),v=Math.round(Math.abs(o/m));let p;return o<-m?(u=Math.min(u+v,a),c=d===1?u:u-d,p=u===a):o>m&&(c=Math.max(0,c-v),u=d===1?c:c+d,p=c===0),J(e,{min:c,max:u},r)||p}const Dn={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function Ae(e,o,r,l=!1){const{min:a,max:c,options:u}=e,d=u.time&&u.time.round,m=Dn[d]||0,v=e.getValueForPixel(e.getPixelForValue(a+m)-o),p=e.getValueForPixel(e.getPixelForValue(c+m)-o),{min:E=-1/0,max:T=1/0}=l&&r&&r[e.axis]||{};return isNaN(v)||isNaN(p)||v<E||p>T?!0:J(e,{min:v,max:p},r,l)}function Ie(e,o,r){return Ae(e,o,r,!0)}const Wt={category:bn,default:On},kt={default:Nn},Zt={category:An,default:Ae,logarithmic:Ie,timeseries:Ie};function Rn(e,o,r){const{id:l,options:{min:a,max:c}}=e;if(!o[l]||!r[l])return!0;const u=r[l];return u.min!==a||u.max!==c}function Pe(e,o){k(e,(r,l)=>{o[l]||delete e[l]})}function ut(e,o){const{scales:r}=e,{originalScaleLimits:l,updatedScaleLimits:a}=o;return k(r,function(c){Rn(c,l,a)&&(l[c.id]={min:{scale:c.min,options:c.options.min},max:{scale:c.max,options:c.options.max}})}),Pe(l,r),Pe(a,r),l}function Se(e,o,r,l){const a=Wt[e.type]||Wt.default;_(a,[e,o,r,l])}function _e(e,o,r,l,a){const c=kt[e.type]||kt.default;_(c,[e,o,r,l,a])}function wn(e){const o=e.chartArea;return{x:(o.left+o.right)/2,y:(o.top+o.bottom)/2}}function Bt(e,o,r="none"){const{x:l=1,y:a=1,focalPoint:c=wn(e)}=typeof o=="number"?{x:o,y:o}:o,u=I(e),{options:{limits:d,zoom:m}}=u;ut(e,u);const v=l!==1,p=a!==1,E=be(m,c,e);k(E||e.scales,function(T){T.isHorizontal()&&v?Se(T,l,c,d):!T.isHorizontal()&&p&&Se(T,a,c,d)}),e.update(r),_(m.onZoom,[{chart:e}])}function De(e,o,r,l="none"){const a=I(e),{options:{limits:c,zoom:u}}=a,{mode:d="xy"}=u;ut(e,a);const m=W(d,"x",e),v=W(d,"y",e);k(e.scales,function(p){p.isHorizontal()&&m?_e(p,o.x,r.x,c):!p.isHorizontal()&&v&&_e(p,o.y,r.y,c)}),e.update(l),_(u.onZoom,[{chart:e}])}function Ln(e,o,r,l="none"){ut(e,I(e));const a=e.scales[o];J(a,r,void 0,!0),e.update(l)}function zn(e,o="default"){const r=I(e),l=ut(e,r);k(e.scales,function(a){const c=a.options;l[a.id]?(c.min=l[a.id].min.options,c.max=l[a.id].max.options):(delete c.min,delete c.max)}),e.update(o),_(r.options.zoom.onZoomComplete,[{chart:e}])}function Un(e,o){const r=e.originalScaleLimits[o];if(!r)return;const{min:l,max:a}=r;return Nt(a.options,a.scale)-Nt(l.options,l.scale)}function Yn(e){const o=I(e);let r=1,l=1;return k(e.scales,function(a){const c=Un(o,a.id);if(c){const u=Math.round(c/(a.max-a.min)*100)/100;r=Math.min(r,u),l=Math.max(l,u)}}),r<1?r:l}function Oe(e,o,r,l){const{panDelta:a}=l,c=a[e.id]||0;Ee(c)===Ee(o)&&(o+=c);const u=Zt[e.type]||Zt.default;_(u,[e,o,r])?a[e.id]=0:a[e.id]=o}function Re(e,o,r,l="none"){const{x:a=0,y:c=0}=typeof o=="number"?{x:o,y:o}:o,u=I(e),{options:{pan:d,limits:m}}=u,{onPan:v}=d||{};ut(e,u);const p=a!==0,E=c!==0;k(r||e.scales,function(T){T.isHorizontal()&&p?Oe(T,a,m,u):!T.isHorizontal()&&E&&Oe(T,c,m,u)}),e.update(l),_(v,[{chart:e}])}function we(e){const o=I(e),r={};for(const l of Object.keys(e.scales)){const{min:a,max:c}=o.originalScaleLimits[l]||{min:{},max:{}};r[l]={min:a.scale,max:c.scale}}return r}function Hn(e){const o=we(e);for(const r of Object.keys(e.scales)){const{min:l,max:a}=o[r];if(l!==void 0&&e.scales[r].min!==l||a!==void 0&&e.scales[r].max!==a)return!0}return!1}function A(e,o){const{handlers:r}=I(e),l=r[o];l&&l.target&&(l.target.removeEventListener(o,l),delete r[o])}function lt(e,o,r,l){const{handlers:a,options:c}=I(e),u=a[r];u&&u.target===o||(A(e,r),a[r]=d=>l(e,d,c),a[r].target=o,o.addEventListener(r,a[r]))}function Xn(e,o){const r=I(e);r.dragStart&&(r.dragging=!0,r.dragEnd=o,e.update("none"))}function Fn(e,o){const r=I(e);!r.dragStart||o.key!=="Escape"||(A(e,"keydown"),r.dragging=!1,r.dragStart=r.dragEnd=null,e.update("none"))}function Le(e,o,r){const{onZoomStart:l,onZoomRejected:a}=r;if(l){const{left:c,top:u}=o.target.getBoundingClientRect(),d={x:o.clientX-c,y:o.clientY-u};if(_(l,[{chart:e,event:o,point:d}])===!1)return _(a,[{chart:e,event:o}]),!1}}function Vn(e,o){const r=I(e),{pan:l,zoom:a={}}=r.options;if(o.button!==0||Ce(ct(l),o)||Gt(ct(a.drag),o))return _(a.onZoomRejected,[{chart:e,event:o}]);Le(e,o,a)!==!1&&(r.dragStart=o,lt(e,e.canvas,"mousemove",Xn),lt(e,window.document,"keydown",Fn))}function ze(e,o,r,l){const{left:a,top:c}=r.target.getBoundingClientRect(),u=W(o,"x",e),d=W(o,"y",e);let{top:m,left:v,right:p,bottom:E,width:T,height:y}=e.chartArea;u&&(v=Math.min(r.clientX,l.clientX)-a,p=Math.max(r.clientX,l.clientX)-a),d&&(m=Math.min(r.clientY,l.clientY)-c,E=Math.max(r.clientY,l.clientY)-c);const N=p-v,x=E-m;return{left:v,top:m,right:p,bottom:E,width:N,height:x,zoomX:u&&N?1+(T-N)/T:1,zoomY:d&&x?1+(y-x)/y:1}}function Wn(e,o){const r=I(e);if(!r.dragStart)return;A(e,"mousemove");const{mode:l,onZoomComplete:a,drag:{threshold:c=0}}=r.options.zoom,u=ze(e,l,r.dragStart,o),d=W(l,"x",e)?u.width:0,m=W(l,"y",e)?u.height:0,v=Math.sqrt(d*d+m*m);if(r.dragStart=r.dragEnd=null,v<=c){r.dragging=!1,e.update("none");return}De(e,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom"),setTimeout(()=>r.dragging=!1,500),_(a,[{chart:e}])}function kn(e,o,r){if(Gt(ct(r.wheel),o)){_(r.onZoomRejected,[{chart:e,event:o}]);return}if(Le(e,o,r)!==!1&&(o.cancelable&&o.preventDefault(),o.deltaY!==void 0))return!0}function Zn(e,o){const{handlers:{onZoomComplete:r},options:{zoom:l}}=I(e);if(!kn(e,o,l))return;const a=o.target.getBoundingClientRect(),c=1+(o.deltaY>=0?-l.wheel.speed:l.wheel.speed),u={x:c,y:c,focalPoint:{x:o.clientX-a.left,y:o.clientY-a.top}};Bt(e,u),r&&r()}function qn(e,o,r,l){r&&(I(e).handlers[o]=In(()=>_(r,[{chart:e}]),l))}function Gn(e,o){const r=e.canvas,{wheel:l,drag:a,onZoomComplete:c}=o.zoom;l.enabled?(lt(e,r,"wheel",Zn),qn(e,"onZoomComplete",c,250)):A(e,"wheel"),a.enabled?(lt(e,r,"mousedown",Vn),lt(e,r.ownerDocument,"mouseup",Wn)):(A(e,"mousedown"),A(e,"mousemove"),A(e,"mouseup"),A(e,"keydown"))}function Bn(e){A(e,"mousedown"),A(e,"mousemove"),A(e,"mouseup"),A(e,"wheel"),A(e,"click"),A(e,"keydown")}function jn(e,o){return function(r,l){const{pan:a,zoom:c={}}=o.options;if(!a||!a.enabled)return!1;const u=l&&l.srcEvent;return u&&!o.panning&&l.pointerType==="mouse"&&(Gt(ct(a),u)||Ce(ct(c.drag),u))?(_(a.onPanRejected,[{chart:e,event:l}]),!1):!0}}function Kn(e,o){const r=Math.abs(e.clientX-o.clientX),l=Math.abs(e.clientY-o.clientY),a=r/l;let c,u;return a>.3&&a<1.7?c=u=!0:r>l?c=!0:u=!0,{x:c,y:u}}function Ue(e,o,r){if(o.scale){const{center:l,pointers:a}=r,c=1/o.scale*r.scale,u=r.target.getBoundingClientRect(),d=Kn(a[0],a[1]),m=o.options.zoom.mode,v={x:d.x&&W(m,"x",e)?c:1,y:d.y&&W(m,"y",e)?c:1,focalPoint:{x:l.x-u.left,y:l.y-u.top}};Bt(e,v),o.scale=r.scale}}function Jn(e,o){o.options.zoom.pinch.enabled&&(o.scale=1)}function Qn(e,o,r){o.scale&&(Ue(e,o,r),o.scale=null,_(o.options.zoom.onZoomComplete,[{chart:e}]))}function Ye(e,o,r){const l=o.delta;l&&(o.panning=!0,Re(e,{x:r.deltaX-l.x,y:r.deltaY-l.y},o.panScales),o.delta={x:r.deltaX,y:r.deltaY})}function $n(e,o,r){const{enabled:l,onPanStart:a,onPanRejected:c}=o.options.pan;if(!l)return;const u=r.target.getBoundingClientRect(),d={x:r.center.x-u.left,y:r.center.y-u.top};if(_(a,[{chart:e,event:r,point:d}])===!1)return _(c,[{chart:e,event:r}]);o.panScales=be(o.options.pan,d,e),o.delta={x:0,y:0},clearTimeout(o.panEndTimeout),Ye(e,o,r)}function ti(e,o){o.delta=null,o.panning&&(o.panEndTimeout=setTimeout(()=>o.panning=!1,500),_(o.options.pan.onPanComplete,[{chart:e}]))}const qt=new WeakMap;function ei(e,o){const r=I(e),l=e.canvas,{pan:a,zoom:c}=o,u=new at.Manager(l);c&&c.pinch.enabled&&(u.add(new at.Pinch),u.on("pinchstart",()=>Jn(e,r)),u.on("pinch",d=>Ue(e,r,d)),u.on("pinchend",d=>Qn(e,r,d))),a&&a.enabled&&(u.add(new at.Pan({threshold:a.threshold,enable:jn(e,r)})),u.on("panstart",d=>$n(e,r,d)),u.on("panmove",d=>Ye(e,r,d)),u.on("panend",()=>ti(e,r))),qt.set(e,u)}function ni(e){const o=qt.get(e);o&&(o.remove("pinchstart"),o.remove("pinch"),o.remove("pinchend"),o.remove("panstart"),o.remove("pan"),o.remove("panend"),o.destroy(),qt.delete(e))}var ii="2.0.0";function Ot(e,o,r){const l=r.zoom.drag,{dragStart:a,dragEnd:c}=I(e);if(l.drawTime!==o||!c)return;const{left:u,top:d,width:m,height:v}=ze(e,r.zoom.mode,a,c),p=e.ctx;p.save(),p.beginPath(),p.fillStyle=l.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(u,d,m,v),l.borderWidth>0&&(p.lineWidth=l.borderWidth,p.strokeStyle=l.borderColor||"rgba(225,225,225)",p.strokeRect(u,d,m,v)),p.restore()}var ri={id:"zoom",version:ii,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(e,o,r){const l=I(e);l.options=r,Object.prototype.hasOwnProperty.call(r.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(r.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(r.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),at&&ei(e,r),e.pan=(a,c,u)=>Re(e,a,c,u),e.zoom=(a,c)=>Bt(e,a,c),e.zoomRect=(a,c,u)=>De(e,a,c,u),e.zoomScale=(a,c,u)=>Ln(e,a,c,u),e.resetZoom=a=>zn(e,a),e.getZoomLevel=()=>Yn(e),e.getInitialScaleBounds=()=>we(e),e.isZoomedOrPanned=()=>Hn(e)},beforeEvent(e){const o=I(e);if(o.panning||o.dragging)return!1},beforeUpdate:function(e,o,r){const l=I(e);l.options=r,Gn(e,r)},beforeDatasetsDraw(e,o,r){Ot(e,"beforeDatasetsDraw",r)},afterDatasetsDraw(e,o,r){Ot(e,"afterDatasetsDraw",r)},beforeDraw(e,o,r){Ot(e,"beforeDraw",r)},afterDraw(e,o,r){Ot(e,"afterDraw",r)},stop:function(e){Bn(e),at&&ni(e),Sn(e)},panFunctions:Zt,zoomFunctions:Wt,zoomRectFunctions:kt};export{ri as p};
